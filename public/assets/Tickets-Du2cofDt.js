import{b as g,r as T,a1 as C,c as f,j as t,a2 as k,a3 as b,a4 as d}from"./index-BOycD4kd.js";import{B as v}from"./Breadcrumb-BqJ4_UoQ.js";import{P as S}from"./PageContainer-97CIqrJb.js";import{u as w}from"./Paper-CrmG5ZWt.js";import{B as l}from"./Box-BXQ1zNTo.js";import{T as y}from"./TextField-B9e79Kv3.js";import{T as L}from"./TableContainer-CIvSrxgc.js";import{T as P,a as B,b as u,c as s,d as I}from"./TableRow-CPP-a1tn.js";import{T as r,s as z}from"./Typography-BDkkff4Z.js";import{S as A}from"./Stack-7R2xgwnv.js";import{A as D}from"./Avatar-C06U4if4.js";import{C as R}from"./Chip-BwUwR4nt.js";import{f as W}from"./index-tfJ8ZH83.js";import{T as O}from"./Tooltip-DKFlwfZ_.js";import{I as E}from"./IconButton-C9FWHOCN.js";import{I as F}from"./IconTrash-Cds8XG15.js";import{P as M}from"./Pagination-DUmqXto2.js";import{G as a}from"./Grid2-D56AonIH.js";import{C as G}from"./ChildCard-1K0LK_Kd.js";import"./index-BwqtTtay.js";import"./useSlotProps-TYhxs4KB.js";import"./IconCircle-CwxeJJOj.js";import"./createReactComponent-DJ-alZeM.js";import"./Link-DehrJQLa.js";import"./useSlot-C8hSq5RO.js";import"./FormControl-CFGl-PZS.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-Ds-I_R6P.js";import"./useId-B1jnamIH.js";import"./formControlState-Dq1zat_P.js";import"./Select-Dz4F7h-J.js";import"./Menu-CFREcaP-.js";import"./Popover-COV8vM5j.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-CIgidMPB.js";import"./ownerWindow-dn6wgS8C.js";import"./createChainedFunction-BO_9K8Jh.js";import"./utils-C9LLcjVj.js";import"./getReactElementRef-DEfyDt09.js";import"./Portal-Dipjj-39.js";import"./debounce-Be36O1Ab.js";import"./Grow-DaxZ4x-g.js";import"./List-C3Ip_mV3.js";import"./useControlled-CGXnS8Tc.js";import"./createStack-C9SkPHjo.js";import"./index-BRTItZEI.js";import"./Popper-CDUIbv4Q.js";import"./LastPage-BED2m8yP.js";import"./Card-Bhf9_j_x.js";import"./CardHeader-DXleoe24.js";import"./Divider-CZ0X2mWw.js";import"./dividerClasses-BAp1ZLUP.js";import"./CardContent--aLPNTp8.js";const H=()=>{const o=g(),n=w();T.useEffect(()=>{o(C())},[o]);const m=(e,j,c)=>{switch(j){case"total_tickets":return e.filter(i=>!i.deleted&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Pending":return e.filter(i=>!i.deleted&&i.Status==="Pending"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Closed":return e.filter(i=>!i.deleted&&i.Status==="Closed"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Open":return e.filter(i=>!i.deleted&&i.Status==="Open"&&i.ticketTitle.toLocaleLowerCase().includes(c));default:throw new Error(`Unknown filter: ${j}`)}},p=f(e=>m(e.ticketReducer.tickets,e.ticketReducer.currentFilter,e.ticketReducer.ticketSearch)),x=e=>e.Status==="Open"?n.palette.success.light:e.Status==="Closed"?n.palette.error.light:e.Status==="Pending"?n.palette.warning.light:e.Status==="Moderate"?n.palette.primary.light:"primary";return t.jsxs(l,{mt:4,children:[t.jsx(l,{sx:{maxWidth:"260px",ml:"auto"},mb:3,children:t.jsx(y,{size:"small",label:"Search",fullWidth:!0,onChange:e=>o(k(e.target.value))})}),t.jsx(L,{children:t.jsxs(P,{children:[t.jsx(B,{children:t.jsxs(u,{children:[t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Id"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Ticket"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Assigned To"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Status"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Date"})}),t.jsx(s,{align:"right",children:t.jsx(r,{variant:"h6",children:"Action"})})]})}),t.jsx(I,{children:p.map(e=>t.jsxs(u,{hover:!0,children:[t.jsx(s,{children:e.Id}),t.jsx(s,{children:t.jsxs(l,{children:[t.jsx(r,{variant:"h6",fontWeight:600,noWrap:!0,children:e.ticketTitle}),t.jsx(r,{color:"textSecondary",noWrap:!0,sx:{maxWidth:"250px"},variant:"subtitle2",fontWeight:400,children:e.ticketDescription})]})}),t.jsx(s,{children:t.jsxs(A,{direction:"row",gap:"10px",alignItems:"center",children:[t.jsx(D,{src:e.thumb,alt:e.thumb,sx:{borderRadius:"100%",width:"35"}}),t.jsx(r,{variant:"h6",children:e.AgentName})]})}),t.jsx(s,{children:t.jsx(R,{sx:{backgroundColor:x(e)},size:"small",label:e.Status})}),t.jsx(s,{children:t.jsx(r,{variant:"subtitle1",children:W(new Date(e.Date),"E, MMM d")})}),t.jsx(s,{align:"right",children:t.jsx(O,{title:"Delete Ticket",children:t.jsx(E,{onClick:()=>o(b(e.Id)),children:t.jsx(F,{size:"18"})})})})]},e.Id))})]})}),t.jsx(l,{my:3,display:"flex",justifyContent:"center",children:t.jsx(M,{count:10,color:"primary"})})]})},h=z(l)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),N=()=>{const o=g(),n=f(e=>e.ticketReducer.tickets),m=n.filter(e=>e.Status==="Pending").length,p=n.filter(e=>e.Status==="Open").length,x=n.filter(e=>e.Status==="Closed").length;return t.jsxs(a,{container:!0,spacing:3,textAlign:"center",children:[t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("total_tickets")),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[t.jsx(r,{variant:"h3",children:n.length}),t.jsx(r,{variant:"h6",children:"Total Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Pending")),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[t.jsx(r,{variant:"h3",children:m}),t.jsx(r,{variant:"h6",children:"Pending Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Open")),sx:{backgroundColor:"success.light",color:"success.main"},children:[t.jsx(r,{variant:"h3",children:p}),t.jsx(r,{variant:"h6",children:"Open Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Closed")),sx:{backgroundColor:"error.light",color:"error.main"},children:[t.jsx(r,{variant:"h3",children:x}),t.jsx(r,{variant:"h6",children:"Closed Tickets"})]})})]})},V=[{to:"/",title:"Home"},{title:"Tickets"}],Vt=()=>t.jsxs(S,{title:"Tickets App",description:"this is Note page",children:[t.jsx(v,{title:"Tickets app",items:V}),t.jsxs(G,{children:[t.jsx(N,{}),t.jsx(H,{})]})]});export{Vt as default};
